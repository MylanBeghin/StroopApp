<UserControl x:Class="StroopApp.Views.Profile.ProfileManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019"
             xmlns:converters="clr-namespace:StroopApp.Converters"
             Height="Auto" Width="Auto"
             Background="Transparent">
    <UserControl.Resources>
        <converters:MillisecondsToHoursConverter x:Key="MillisecondsToHoursConverter"/>
        <converters:MillisecondsToMinutesConverter x:Key="MillisecondsToMinutesConverter"/>
        <converters:MillisecondsToSecondsConverter x:Key="MillisecondsToSecondsConverter"/>
    </UserControl.Resources>
    <ui:SimpleStackPanel>
        <!-- Card 1 : Choix du profil -->
        <Border Background="{DynamicResource SystemControlBackgroundAltMediumBrush}"
            CornerRadius="8,8,0,0"
            Padding="16"
            BorderThickness="0.5"
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}">
            <ui:SimpleStackPanel Spacing="10">
                <TextBlock Text="Choix du profil de l'expérience"
                   Style="{DynamicResource TitleTextBlockStyle}"/>
                <!-- Petite phrase explicative sous le titre -->
                <TextBlock Text="Sélectionnez le profil à utiliser pour configurer votre expérience."
                   Style="{DynamicResource CaptionTextBlockStyle}"/>
                <!-- Mise en ligne horizontale du ComboBox et des boutons -->
                <ui:SimpleStackPanel Orientation="Horizontal"
                             HorizontalAlignment="Left"
                             VerticalAlignment="Bottom"
                             Spacing="10">
                    <ComboBox Width="200"
                    ItemsSource="{Binding Profiles}"
                    SelectedItem="{Binding CurrentProfile}"
                    DisplayMemberPath="ProfileName"
                    Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                    BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"/>
                    <Button Content="Créer"
                  Command="{Binding CreateProfileCommand}"
                  Style="{DynamicResource AccentButtonStyle}"
                  Margin="0"/>
                    <Button Content="Modifier"
                  Command="{Binding ModifyProfileCommand}"
                  Style="{DynamicResource DefaultButtonStyle}"/>
                    <Button Content="Supprimer"
                  Command="{Binding DeleteProfileCommand}"
                  Style="{DynamicResource DefaultButtonStyle}"/>
                </ui:SimpleStackPanel>
            </ui:SimpleStackPanel>
        </Border>
        <!-- Card 2 : Détails du profil sélectionné -->
        <Border Background="{DynamicResource SystemControlBackgroundAltMediumBrush}"
            CornerRadius="0,0,8,8"
            Padding="16"
            BorderThickness="0.5"
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}">
            <ui:SimpleStackPanel Spacing="10">
                <TextBlock Text="Détails du profil sélectionné"
                   Style="{DynamicResource TitleTextBlockStyle}"
                   Margin="0,0,0,10"/>
                <!-- Grid pour aligner les champs sur toute la largeur -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Champ 1 : Type de Stroop -->
                    <TextBox Grid.Row="0" Grid.Column="0"
                   Text="{Binding CurrentProfile.StroopType}"
                   IsReadOnly="True"
                   HorizontalAlignment="Stretch"
                   ui:ControlHelper.Header="Type de Stroop"
                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   Padding="4" Margin="4" IsHitTestVisible="False"/>

                    <!-- Champ 2 : Durée de la tâche en heures, minutes et secondes -->
                    <Grid Grid.Row="0" Grid.Column="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                     Text="{Binding CurrentProfile.TaskDuration, Converter={StaticResource MillisecondsToHoursConverter}}"
                     IsReadOnly="True"
                     HorizontalAlignment="Stretch"
                     ui:ControlHelper.Header="Heures"
                     Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                     BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                     Padding="4" Margin="4" IsHitTestVisible="False"/>
                        <TextBox Grid.Column="1"
                     Text="{Binding CurrentProfile.TaskDuration, Converter={StaticResource MillisecondsToMinutesConverter}}"
                     IsReadOnly="True"
                     HorizontalAlignment="Stretch"
                     ui:ControlHelper.Header="Minutes"
                     Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                     BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                     Padding="4" Margin="4" IsHitTestVisible="False"/>
                        <TextBox Grid.Column="2"
                     Text="{Binding CurrentProfile.TaskDuration, Converter={StaticResource MillisecondsToSecondsConverter}}"
                     IsReadOnly="True"
                     HorizontalAlignment="Stretch"
                     ui:ControlHelper.Header="Secondes"
                     Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                     BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                     Padding="4" Margin="4" IsHitTestVisible="False"/>
                    </Grid>

                    <!-- Champ 3 : Temps de réaction max (ms) -->
                    <TextBox Grid.Row="1" Grid.Column="0"
                   Text="{Binding CurrentProfile.MaxReactionTime}"
                   IsReadOnly="True"
                   HorizontalAlignment="Stretch"
                   ui:ControlHelper.Header="Temps de réaction max (ms)"
                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   Padding="4" Margin="4" IsHitTestVisible="False"/>

                    <!-- Champ 4 : Durée par mot (ms) -->
                    <TextBox Grid.Row="1" Grid.Column="1"
                   Text="{Binding CurrentProfile.WordDuration}"
                   IsReadOnly="True"
                   HorizontalAlignment="Stretch"
                   ui:ControlHelper.Header="Durée par mot (ms)"
                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   Padding="4" Margin="4" IsHitTestVisible="False"/>
                </Grid>
            </ui:SimpleStackPanel>
        </Border>
    </ui:SimpleStackPanel>
</UserControl>

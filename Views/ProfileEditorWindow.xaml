<Window x:Class="StroopApp.Views.ProfileEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        Title="Modifier Profil" 
        xmlns:converters="clr-namespace:StroopApp.Converters"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Height="Auto"
        Width="Auto"
>
    <Window.Resources>
        <converters:StroopTypeToEnabledConverter x:Key="StroopTypeToEnabledConverter"/>
        <converters:BooleanToCalculationModeConverter x:Key="BooleanToCalculationModeConverter"/>
    </Window.Resources>
    <ui:SimpleStackPanel Margin="12" Spacing="24">
        <StackPanel Orientation="Vertical">
            <TextBlock Text="Nom du profil:"/>
            <TextBox Text="{Binding Profile.ProfileName, Mode=TwoWay}" MinWidth="200"/>
        </StackPanel>
        <TabControl>
            <!-- Onglet pour la durée de la tâche -->
            <TabItem Header="Durée de la tâche">
                <ui:SimpleStackPanel Spacing="12">
                    <!-- Saisie du temps -->
                    <ui:SimpleStackPanel Orientation="Horizontal" Spacing="12">
                        <ui:NumberBox Header="h" Value="{Binding Profile.Hours, Mode=TwoWay}" Minimum="0" SpinButtonPlacementMode="Inline"/>
                        <ui:NumberBox Header="m" Value="{Binding Profile.Minutes, Mode=TwoWay}" Minimum="0" Maximum="59" SpinButtonPlacementMode="Inline"/>
                        <ui:NumberBox Header="s" Value="{Binding Profile.Seconds, Mode=TwoWay}" Minimum="0" Maximum="59" SpinButtonPlacementMode="Inline"/>
                    </ui:SimpleStackPanel>
                    <!-- Durée du mot -->
                    <ui:NumberBox Header="Durée du mot (ms):" Value="{Binding Profile.WordDuration, Mode=TwoWay}" Minimum="1" SpinButtonPlacementMode="Inline"/>
                    <!-- Durée de fixation -->
                    <ui:NumberBox Header="Durée de fixation (ms):" Value="{Binding Profile.FixationDuration, Mode=TwoWay}" Minimum="1" SpinButtonPlacementMode="Inline"/>
                    <!-- Durée d'amorce -->
                    <ui:NumberBox Header="Durée d'amorce (ms):" Value="{Binding Profile.AmorceDuration, Mode=TwoWay}" Minimum="0"
                         IsEnabled="{Binding Profile.StroopType, Converter={StaticResource StroopTypeToEnabledConverter}}" SpinButtonPlacementMode="Inline"/>
                    <!-- Type de Stroop -->
                    <ComboBox ui:ControlHelper.Header="Type de Stroop:" 
                    ItemsSource="{Binding Profile.StroopTypes}" 
                    SelectedItem="{Binding Profile.StroopType, Mode=TwoWay}" 
                    MinWidth="200"/>
                    <!-- Taille du groupe -->
                    <ui:NumberBox Header="Taille du groupe:" Value="{Binding Profile.GroupSize, Mode=TwoWay}" Minimum="1" SpinButtonPlacementMode="Inline"/>
                    <!-- Résultats -->
                    <ui:NumberBox Header="Nombre de mots calculés:" Value="{Binding Profile.WordCount}" IsEnabled="False"/>
                    <ui:NumberBox Header="Temps de réaction maximum (ms):" Value="{Binding Profile.MaxReactionTime}" IsEnabled="False"/>
                    <!-- Boutons -->
                    <ui:SimpleStackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
                        <Button Content="Enregistrer" Command="{Binding SaveCommand}"/>
                        <Button Content="Annuler" Command="{Binding CancelCommand}"/>
                    </ui:SimpleStackPanel>
                </ui:SimpleStackPanel>
            </TabItem>

            <!-- Onglet pour le nombre de mots -->
            <TabItem Header="Nombre de mots">
                <ui:SimpleStackPanel Spacing="12">
                    <!-- Nombre de mots -->
                    <ui:NumberBox Header="Nombre de mots:" Value="{Binding Profile.WordCount, Mode=TwoWay}" Minimum="1"/>
                    <!-- Durée du mot -->
                    <ui:NumberBox Header="Durée du mot (ms):" Value="{Binding Profile.WordDuration, Mode=TwoWay}" Minimum="1"/>
                    <!-- Durée de fixation -->
                    <ui:NumberBox Header="Durée de fixation (ms):" Value="{Binding Profile.FixationDuration, Mode=TwoWay}" Minimum="1"/>
                    <!-- Durée d'amorce -->
                    <ui:NumberBox Header="Durée d'amorce (ms):" Value="{Binding Profile.AmorceDuration, Mode=TwoWay}" Minimum="0"
                         IsEnabled="{Binding Profile.StroopType, Converter={StaticResource StroopTypeToEnabledConverter}}"/>
                    <!-- Type de Stroop -->
                    <ComboBox ui:ControlHelper.Header="Type de Stroop:" 
                    ItemsSource="{Binding Profile.StroopTypes}" 
                    SelectedItem="{Binding Profile.StroopType, Mode=TwoWay}" 
                    MinWidth="200"/>
                    <!-- Taille du groupe -->
                    <ui:NumberBox Header="Taille du groupe:" Value="{Binding Profile.GroupSize, Mode=TwoWay}" Minimum="1"/>
                    <!-- Résultats -->
                    <ui:NumberBox Header="Durée de la tâche calculée (ms):" Value="{Binding Profile.TaskDuration}" IsEnabled="True"/>
                    <ui:NumberBox Header="Temps de réaction maximum (ms):" Value="{Binding Profile.MaxReactionTime}" IsEnabled="True"/>
                    <!-- Boutons -->
                    <ui:SimpleStackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
                        <Button Content="Enregistrer" Command="{Binding SaveCommand}"/>
                        <Button Content="Annuler" Command="{Binding CancelCommand}"/>
                    </ui:SimpleStackPanel>
                </ui:SimpleStackPanel>
            </TabItem>
        </TabControl>

        <!-- Zone en bas: Nom du profil -->

    </ui:SimpleStackPanel>
</Window>
